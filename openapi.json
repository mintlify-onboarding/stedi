{"servers":[{"description":"Production","url":"https://apikeys.us.stedi.com/2022-01-19"}],"x-stedi":{"lifecycle":"general-availability"},"openapi":"3.0.3","paths":{"/api_keys/{api_key_prefix}":{"delete":{"summary":"Delete API key","description":"Deletes the specified API key.","x-stedi-public":true,"operationId":"delete-api_keys-api_key_prefix","responses":{"204":{"description":"Deleted"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","enum":["invalid_token","invalid_role_for_operation"]}},"required":["message","code"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","enum":["api_key_not_found"]}},"required":["message","code"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"502":{"description":"Bad Gateway","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"504":{"description":"Gateway Timeout","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"tags":["Api Keys"]},"parameters":[{"name":"api_key_prefix","schema":{"type":"string","description":"The first few characters of the API key. For security reasons, you can't retrieve the full API key. The API prefix is unique, so you can use it as an ID for the API key, for example when you want to delete the API key."},"in":"path","required":true}]},"/api_keys":{"get":{"summary":"List API keys","x-stedi-public":true,"description":"Retrieves a list of all API keys belonging to the active tenant. The active tenant is determined by the API key passed in the Authorization-header.","operationId":"get-api_keys","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"next_page_token":{"type":"string","description":"A token that allows you to retrieve the next page of API keys. If this field isn't present, then there are no more API keys to retrieve."},"results":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"tenant_id":{"type":"string","format":"uuid","description":"The ID of the tenant that the API key belongs to. This is always the same tenant as the one that's associated with the API key passed in the Authorization-header."},"created_at":{"type":"string","format":"date-time","description":"A timestamp indicating when this entity was created."},"description":{"type":"string","description":"A description of the API key. You can use this to describe what the API key is used for, or who it is associated with. It doesn't have to be unique, but it can't be empty."},"api_key_prefix":{"type":"string","description":"The first few characters of the API key. For security reasons, you can't retrieve the full API key. The API prefix is unique, so you can use it as an ID for the API key, for example when you want to delete the API key."},"api_key_role":{"type":"string","description":"The role of the API Key. Accepted values: stedi:developer, stedi:admin","enum":["stedi:developer","stedi:admin"]}},"required":["created_at","tenant_id","description","api_key_prefix","api_key_role"]}}},"required":["results"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","enum":["malformed_page_token"]}},"required":["message","code"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","enum":["invalid_token"]}},"required":["message","code"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"502":{"description":"Bad Gateway","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"504":{"description":"Gateway Timeout","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"parameters":[{"name":"page_size","schema":{"type":"integer","default":25,"example":25},"description":"Maximum number of API keys that will be returned in a single response. If there are more API keys, the response will contain a field `next_page_token` that will allow you to retrieve them.","in":"query","required":false},{"name":"page_token","schema":{"type":"string","description":"A token that allows you to retrieve the next page of API keys. If this field isn't present, then there are no more API keys to retrieve."},"description":"A token that allows you to retrieve the next page of API keys. It should have the same value as the `next_page_token`-field you received in your last response.","in":"query","required":false}],"tags":["Api Keys"]},"post":{"summary":"Create API key","x-stedi-public":true,"requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"description":{"type":"string","description":"A description of the API key. You can use this to describe what the API key is used for, or who it is associated with. It doesn't have to be unique, but it can't be empty."}},"required":["description"]}}}},"description":"Create a new API key for the active tenant. The active tenant is determined by the API key passed in the Authorization-header.\n\nWhen you call a Stedi endpoint, you need to provide an API key in the Authorization-header. Any API key you create using this endpoint grants you access to all resources belonging to the active tenant. If you signed up as an individual, then the active tenant is you and the API key will grant access to all your resources. If you're a member of an account, then the active tenant is the account and the API key will grant access to all resources in that account, regardless of whether they were created by you or by another member.\n\nSince you need an API key to call this endpoint, you need to [create your first API key using the UI](https://terminal.stedi.com/apikeys).","operationId":"post-api_keys","responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"tenant_id":{"type":"string","format":"uuid","description":"The ID of the tenant that the API key belongs to. This is always the same tenant as the one that's associated with the API key passed in the Authorization-header."},"created_at":{"type":"string","format":"date-time","description":"A timestamp indicating when this entity was created."},"description":{"type":"string","description":"A description of the API key. You can use this to describe what the API key is used for, or who it is associated with. It doesn't have to be unique, but it can't be empty."},"api_key_prefix":{"type":"string","description":"The first few characters of the API key. For security reasons, you can't retrieve the full API key. The API prefix is unique, so you can use it as an ID for the API key, for example when you want to delete the API key."},"api_key_role":{"type":"string","description":"The role of the API Key. Accepted values: stedi:developer, stedi:admin","enum":["stedi:developer","stedi:admin"]},"api_key":{"type":"string","pattern":"[a-zA-Z0-9]{7}\\.[a-zA-Z0-9]{24}","description":"The API key you can use to access resources belonging to the tenant that the API key is associated with. This is the only time that a response will include the full API key; you can't retrieve it later."}},"required":["created_at","tenant_id","description","api_key_prefix","api_key_role","api_key"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","enum":["invalid_token","invalid_role_for_operation"]}},"required":["message","code"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","enum":["limit_reached"]}},"required":["message","code"]}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"502":{"description":"Bad Gateway","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"504":{"description":"Gateway Timeout","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"tags":["Api Keys"]}}},"info":{"description":"When you call a Stedi endpoint, you need to provide an API key in the Authorization-header. API Keys lets you create and delete these keys programatically.\n\nAn API Key grants access to all resources belonging to a tenant. If you sign up with Stedi as an individual, then you are the tenant and all resources belong to you alone. If you are a member of an account, then the account is the tenant and all resources are shared among the account's members.","license":{"name":"Proprietary","url":"https://stedi.com"},"title":"apikeys-20220119","version":"20220119"},"tags":[{"name":"Api Keys","description":"Operations on API keys"}]}