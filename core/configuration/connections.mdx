---
title: Connections
sidebarTitle: Connections
slug: core/configuration/connections
description: Connections tell Stedi Core where to retrieve and send files during inbound and outbound processing.
---

Connections are used to exchange EDI files with a trading partner via SFTP, FTP, FTPS, or AS2.

## Prerequisites

Before adding a connection, you need to set up a [partnership](profiles-and-partnerships).

## Create a connection

To create a connection:

1. Go to the [**Trading partners**](https://www.stedi.com/app/core/partnerships) page.
1. Click the partnership where you want to add the connection.
1. Click **Create connection**.
1. Select the desired **Connection type**.

### Connection types

The available connection types are Stedi SFTP, Remote SFTP, AS2, and Buckets. The connection type you choose will depend on your and your trading partner's requirements.

#### Stedi SFTP

With this connection type, Stedi creates and hosts a fully-managed SFTP server, along with SFTP user credentials that you can provide to your trading partner. This is the easiest way to get started with the least amount of configuration, but in many cases, your trading partner may require you to use their SFTP server instead, especially if they are the larger party.

Any files that your trading partner adds to the SFTP server are automatically ingested and processed. Outbound EDI files are automatically deposited on the SFTP server for your trading partner to retrieve.

<Info>
The Stedi SFTP connection type supports only username and password authentication. If your trading partner requires key-based authentication, you can use a [remote SFTP connection](#remote-sftp) instead.
</Info>
To create a Stedi SFTP connection:

1. Select **SFTP** as the **Connection Type**.
1. Enter a **Connection name**.
1. If required, provide a specific length for the autogenerated password.
1. Specify an **Inbound directory**. This is the directory that your trading partner will use to send files to you. Any file placed in this directory will be automatically ingested and processed. The default directory is `/inbound` but you can specify a different directory if needed.
1. Specify an **outbound directory**. This is the directory that your trading partner will use to retrieve files from you. Outbound EDI files will be automatically deposited in this directory. The default directory is `/outbound` but you can specify a different directory if needed.
1. By default, the option to **Delete inbound files on receipt** will be selected. Typically, your partner will want you to delete files after processing. If you want to keep the files, deselect this option.
1. Click **Create connection**. Stedi will show the login credentials for the created SFTP user.

<Warning>
The login credentials will only be displayed once and cannot be retrieved again for security reasons. We recommend immediately saving the login credentials in a secure location such as a password manager. If needed, you can always regenerate new credentials in the [SFTP UI](https://www.stedi.com/app).
</Warning>

You can now associate this connection with one or more [transaction settings](transaction-settings) and use it to exchange files with your trading partner.

#### Remote SFTP

With this connection type, Stedi connects to an external SFTP, FTP, FTPS server to exchange files with your trading partner. This could either be a server that your trading partner hosts, or a server that you host outside of Stedi on existing infrastructure. This is the most common connection type to use, since most large trading partners will require you to connect to their SFTP server instead of using yours.

Your trading partner will provide you with the connection information required to set up the connection. This typically includes the server address, port, username, and password or private key.

To create a remote SFTP connection:

1. Select **Remote SFTP** as the **Connection Type**.
1. Enter the **Host** (the remote SFTP server address) and specify the **Port**.
1. Enter authentication credentials. Enter a **Username**, and either a **Password** or a **private key** from your local machine.
1. Specify the **Root directory** to use in the remote SFTP server.
1. Stedi will automatically suggest an internal **Connection name**. This is never visible to your trading partner and is used for unique identification with your Stedi account only. If the name that's suggested isn't sensible to you, you can change it to anything you wish. You cannot edit the name after it has been created.
1. (Optional) Use the **Advanced** menu if you need to specify the number of **Retries**, the **Connection timeout**, the **Socket timeout**, and **SFTP algorithms** to use.
   > **Note:** We recommend using the default settings for the majority of use cases. Contact [support](https://www.stedi.com/contact) if you are unsure what settings to use and we'd be happy to help you figure out the right settings.
1. Configure **Inbound and Outbound options**.
   - If your partner has provided you with specific directories to use, enter the **Inbound directory** to use for retrieving inbound EDI files from your partner, and the **Outbound directory** to use for placing outbound EDI files for your partner to retrieve. If your partner has not provided you with specific directories, the default suggested directories can be used.
   - (Inbound only) Use the toggles to set:
     - How often to poll the remote server
     - Whether to retrieve only new files created since the last fetch
     - Whether to delete files after retrieval.
1. Click the **Create connection** to save the connection. You can now associate this connection with one or more [transaction settings](transaction-settings) and use it to exchange files with your trading partner.

##### Test the connection

We recommend testing your connection immediately after creation to ensure you can connect to the remote server. To test the connection:

1. Go to the Partnership and click the **ellipses (...)** next to the SFTP connection.
1. Select **Test**.
1. Stedi will attempt to connect to the remote SFTP server using the credentials provided in your connection and will show a success or error message accordingly.

##### Fetch files manually

You can disable automatic polling and retrieve files manually when needed. For example, you may want to retrieve files manually when testing or troubleshooting the connection.

To manually fetch files:

1. Go to the Partnership and click the **ellipses (...)** next to the SFTP connection.
1. Select **Fetch now**.

##### Status and logs

Each Remote SFTP connection's status and logs can be found on its overview page. To view the overview page, go to the partnership and click the connection's name.

An **Available** connection status indicates that Stedi is able to connect to the remote server.

The **Logs** detail each connection and polling attempt.

#### Bucket (Advanced use cases only)

<Warning>
Bucket connections are advisable for advanced use cases that can't be covered by other connection types. We recommend using other connection types whenever possible. If you think your use case requires [buckets](../../cloud/buckets), reach out to [customer engineering](https://www.stedi.com/contact) and we would be happy to help you set it up.
</Warning>

To create a bucket connection:

1. Select **Bucket** as the **Connection Type**.
1. Enter a descriptive **Connection name**.
1. Select a **root path**. This is the directory in which the inbound and outbound transaction directories will be created. Stedi will automatically suggest a root path based on the partnership ID. You can change this if needed.
1. Choose an inbound directory name that identifies where inbound files should be retrieved for processing.
1. Choose an outbound directory name that identifies where outbound files should be placed when created.
1. Click the **Create connection** to save the connection. You can now associate this connection with one or more [transaction settings](transaction-settings).
